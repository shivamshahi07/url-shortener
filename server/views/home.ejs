<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HomePage</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white">
    <div class="flex flex-col justify-center items-center">
        <h1 class="">ðŸ”—Shorten URL </h1>
        <% if (locals.id) { %>
            <p class="bg-gray-800 shadow-md rounded px-8 pt-6 pb-8 mb-4 text-white">URL generated : http://localhost:8001/url/<%= id %></p>
        
        <% } %>
    </div>
    <div class="md:px-32 py-8 w-full">
        <div class="shadow overflow-hidden rounded border-b border-gray-200">
            <form method="post" action="/url" class="bg-gray-800 shadow-md rounded px-8 pt-6 pb-8 mb-4">
                <label class="block mb-2 text-indigo-500">Enter Your Original URL</label>
                <input type="text" name="url" placeholder="https://example.com" class="w-full p-2 mb-6 text-indigo-700 border-b-2 border-indigo-500 outline-none focus:bg-gray-300"></input>
                <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">GENERATE</button>
            </form>
        </div>

    </div>
    <div>
        <% if (locals.urls) { %>
            <div class="md:px-32 py-8 w-full">
                <div class="shadow overflow-hidden rounded border-b border-gray-200">
                    <table class="min-w-full bg-white ">
                        <thead class="bg-gray-800 text-white">
                            <th class=" w-1/3 text-left py-3 px-4 uppercase font-semibold text-sm">S.no</th>
                            <th class=" w-1/3 text-left py-3 px-4 uppercase font-semibold text-sm">ShortId</th>
                            <th class="text-left py-3 px-4 uppercase font-semibold text-sm">Redirect</th>
                            <th class="text-left py-3 px-4 uppercase font-semibold text-sm">Clicks</th>
                        </thead>
                        <tbody>
                            <% urls.forEach((url,index) => { %>
                                <tr class="bg-gray-100">
                                    <td class="w-1/3 text-left py-3 px-4"><%= index+1 %></td>
                                    <td class="w-1/3 text-left py-3 px-4"><%= url.shortId%></td>
                                    <td class="w-1/3 text-left py-3 px-4"><%= url.redirectURL%></td>
                                    <td class="w-1/3 text-left py-3 px-4"><%= url.visitHistory.length%></td>
                                </tr>
                            
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            
            </div>
         
        <% } %>
    </div>
  </body>
</html>
